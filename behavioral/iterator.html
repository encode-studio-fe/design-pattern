<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>迭代器模式 | 印客学院</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/design-pattern/img/logo.png">
    <meta name="description" content="设计模式深入浅出">
    <meta name="keywords" content="设计模式深入浅出">
    
    <link rel="preload" href="/design-pattern/assets/css/0.styles.ed4adf79.css" as="style"><link rel="preload" href="/design-pattern/assets/js/app.c5837f5d.js" as="script"><link rel="preload" href="/design-pattern/assets/js/2.87c55b2d.js" as="script"><link rel="preload" href="/design-pattern/assets/js/10.09fcd684.js" as="script"><link rel="prefetch" href="/design-pattern/assets/js/11.2c0a60d5.js"><link rel="prefetch" href="/design-pattern/assets/js/12.e4cd9b0b.js"><link rel="prefetch" href="/design-pattern/assets/js/13.e2e85962.js"><link rel="prefetch" href="/design-pattern/assets/js/14.77f4c8de.js"><link rel="prefetch" href="/design-pattern/assets/js/15.bdbe88d9.js"><link rel="prefetch" href="/design-pattern/assets/js/16.c93a16f5.js"><link rel="prefetch" href="/design-pattern/assets/js/17.8f0ac95a.js"><link rel="prefetch" href="/design-pattern/assets/js/18.97946bbf.js"><link rel="prefetch" href="/design-pattern/assets/js/19.9a2df0b1.js"><link rel="prefetch" href="/design-pattern/assets/js/20.0c56a87c.js"><link rel="prefetch" href="/design-pattern/assets/js/21.fa885a2e.js"><link rel="prefetch" href="/design-pattern/assets/js/22.58280c1b.js"><link rel="prefetch" href="/design-pattern/assets/js/23.7d96885f.js"><link rel="prefetch" href="/design-pattern/assets/js/24.eb250086.js"><link rel="prefetch" href="/design-pattern/assets/js/25.81aa5aa0.js"><link rel="prefetch" href="/design-pattern/assets/js/26.51549590.js"><link rel="prefetch" href="/design-pattern/assets/js/27.5bc5ec09.js"><link rel="prefetch" href="/design-pattern/assets/js/3.5df15920.js"><link rel="prefetch" href="/design-pattern/assets/js/4.1678dc1d.js"><link rel="prefetch" href="/design-pattern/assets/js/5.09261db1.js"><link rel="prefetch" href="/design-pattern/assets/js/6.22f7e7d7.js"><link rel="prefetch" href="/design-pattern/assets/js/7.fc595223.js"><link rel="prefetch" href="/design-pattern/assets/js/8.77b29604.js"><link rel="prefetch" href="/design-pattern/assets/js/9.3c9fc99c.js">
    <link rel="stylesheet" href="/design-pattern/assets/css/0.styles.ed4adf79.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/design-pattern/" class="home-link router-link-active"><img src="/design-pattern/img/logo.png" alt="印客学院" class="logo"> <span class="site-name can-hide">印客学院</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/design-pattern/index.html" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><span class="title">设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="设计模式" class="mobile-dropdown-title"><span class="title">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-pattern/creational/index.html" class="nav-link">
  创建者模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/structural/index.html" class="nav-link">
  结构型模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/behavioral/index.html" class="nav-link">
  行为模式
</a></li></ul></div></div> <a href="https://github.com/encode-studio-fe/design-pattern" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/design-pattern/index.html" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><span class="title">设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="设计模式" class="mobile-dropdown-title"><span class="title">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-pattern/creational/index.html" class="nav-link">
  创建者模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/structural/index.html" class="nav-link">
  结构型模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/behavioral/index.html" class="nav-link">
  行为模式
</a></li></ul></div></div> <a href="https://github.com/encode-studio-fe/design-pattern" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern/creational" class="sidebar-heading clickable"><span>创建者模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern/structural" class="sidebar-heading clickable"><span>结构型模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern/behavioral" class="sidebar-heading clickable router-link-active open"><span>行为模式</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/design-pattern/behavioral/responsibility.html" class="sidebar-link">责任链模式</a></li><li><a href="/design-pattern/behavioral/command.html" class="sidebar-link">命令模式</a></li><li><a href="/design-pattern/behavioral/iterator.html" aria-current="page" class="active sidebar-link">迭代器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design-pattern/behavioral/iterator.html#结构" class="sidebar-link">结构</a></li><li class="sidebar-sub-header"><a href="/design-pattern/behavioral/iterator.html#适用场景" class="sidebar-link">适用场景</a></li><li class="sidebar-sub-header"><a href="/design-pattern/behavioral/iterator.html#优缺点" class="sidebar-link">优缺点</a></li><li class="sidebar-sub-header"><a href="/design-pattern/behavioral/iterator.html#与其他模式的关系" class="sidebar-link">与其他模式的关系</a></li><li class="sidebar-sub-header"><a href="/design-pattern/behavioral/iterator.html#代码实现" class="sidebar-link">代码实现</a></li><li class="sidebar-sub-header"><a href="/design-pattern/behavioral/iterator.html#测试用例" class="sidebar-link">测试用例</a></li></ul></li><li><a href="/design-pattern/behavioral/mediator.html" class="sidebar-link">中介者模式</a></li><li><a href="/design-pattern/behavioral/memento.html" class="sidebar-link">备忘录模式</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="迭代器模式"><a href="#迭代器模式" class="header-anchor">#</a> 迭代器模式</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>迭代器模式</strong>是一种行为设计模式， 让你能在不暴露集合底层表现形式 （列表、 栈和树等） 的情况下遍历集合中所有的元素。</p></div> <h2 id="结构"><a href="#结构" class="header-anchor">#</a> 结构</h2> <p><img src="data:image/png;base64,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" alt="iterator_structure"></p> <ol><li>迭代器 （<code>Iterator</code>） 接口声明了遍历集合所需的操作： 获取下一个元素、 获取当前位置和重新开始迭代等。</li> <li>具体迭代器 （<code>Concrete Iterators</code>） 实现遍历集合的一种特定算法。 迭代器对象必须跟踪自身遍历的进度。 这使得多个迭代器可以相互独立地遍历同一集合。</li> <li>集合 （<code>Collection</code>） 接口声明一个或多个方法来获取与集合兼容的迭代器。 请注意， 返回方法的类型必须被声明为迭代器接口， 因此具体集合可以返回各种不同种类的迭代器。</li> <li>具体集合 （<code>Concrete Collections</code>） 会在客户端请求迭代器时返回一个特定的具体迭代器类实体。 你可能会琢磨， 剩下的集合代码在什么地方呢？ 不用担心， 它也会在同一个类中。 只是这些细节对于实际模式来说并不重要， 所以我们将其省略了而已。</li> <li>客户端 （<code>Client</code>） 通过集合和迭代器的接口与两者进行交互。 这样一来客户端无需与具体类进行耦合， 允许同一客户端代码使用各种不同的集合和迭代器。客户端通常不会自行创建迭代器， 而是会从集合中获取。 但在特定情况下， 客户端可以直接创建一个迭代器 （例如当客户端需要自定义特殊迭代器时）。</li></ol> <h2 id="适用场景"><a href="#适用场景" class="header-anchor">#</a> 适用场景</h2> <ol><li><p>当集合背后为复杂的数据结构， 且你希望对客户端隐藏其复杂性时 （出于使用便利性或安全性的考虑）， 可以使用迭代器模式。</p> <ol><li>迭代器封装了与复杂数据结构进行交互的细节， 为客户端提供多个访问集合元素的简单方法。 这种方式不仅对客户端来说非常方便， 而且能避免客户端在直接与集合交互时执行错误或有害的操作， 从而起到保护集合的作用。</li></ol></li> <li><p>使用该模式可以减少程序中重复的遍历代码。</p> <ol><li>重要迭代算法的代码往往体积非常庞大。 当这些代码被放置在程序业务逻辑中时， 它会让原始代码的职责模糊不清， 降低其可维护性。 因此， 将遍历代码移到特定的迭代器中可使程序代码更加精炼和简洁。</li></ol></li> <li><p>如果你希望代码能够遍历不同的甚至是无法预知的数据结构， 可以使用迭代器模式。</p> <ol><li>该模式为集合和迭代器提供了一些通用接口。 如果你在代码中使用了这些接口， 那么将其他实现了这些接口的集合和迭代器传递给它时， 它仍将可以正常运行。</li></ol></li></ol> <h2 id="优缺点"><a href="#优缺点" class="header-anchor">#</a> 优缺点</h2> <h3 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h3> <ol><li>单一职责原则。 通过将体积庞大的遍历算法代码抽取为独立的类， 你可对客户端代码和集合进行整理。</li> <li>开闭原则。 你可实现新型的集合和迭代器并将其传递给现有代码， 无需修改现有代码。</li> <li>你可以并行遍历同一集合， 因为每个迭代器对象都包含其自身的遍历状态。</li> <li>相似的， 你可以暂停遍历并在需要时继续。</li></ol> <h3 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h3> <ol><li>如果你的程序只与简单的集合进行交互， 应用该模式可能会矫枉过正。</li> <li>对于某些特殊集合， 使用迭代器可能比直接遍历的效率低。</li></ol> <h2 id="与其他模式的关系"><a href="#与其他模式的关系" class="header-anchor">#</a> 与其他模式的关系</h2> <ol><li>你可以使用迭代器模式来遍历组合模式树。</li> <li>你可以同时使用工厂方法模式和迭代器来让子类集合返回不同类型的迭代器， 并使得迭代器与集合相匹配。</li> <li>你可以同时使用备忘录模式和迭代器来获取当前迭代器的状态， 并且在需要的时候进行回滚。</li> <li>可以同时使用访问者模式和迭代器来遍历复杂数据结构， 并对其中的元素执行所需操作， 即使这些元素所属的类完全不同。</li></ol> <h2 id="代码实现"><a href="#代码实现" class="header-anchor">#</a> 代码实现</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Iterator<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
	<span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
	<span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
	<span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Aggregator</span> <span class="token punctuation">{</span>
	<span class="token function">getIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AlphabeticalOrderIterator</span> <span class="token keyword">implements</span> <span class="token class-name">Iterator<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> collection<span class="token operator">:</span> WordsCollection<span class="token punctuation">;</span>
	<span class="token keyword">private</span> position<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span> reverse<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

	<span class="token function">constructor</span><span class="token punctuation">(</span>collection<span class="token operator">:</span> WordsCollection<span class="token punctuation">,</span> reverse<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>collection <span class="token operator">=</span> collection<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>reverse <span class="token operator">=</span> reverse<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>reverse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reverse <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>collection<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>collection<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>collection<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reverse <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> item<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reverse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>collection<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">WordsCollection</span> <span class="token keyword">implements</span> <span class="token class-name">Aggregator</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> items<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">getIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AlphabeticalOrderIterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">getReverseIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AlphabeticalOrderIterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Iterator<span class="token punctuation">,</span> Aggregator<span class="token punctuation">,</span> AlphabeticalOrderIterator<span class="token punctuation">,</span> WordsCollection <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="测试用例"><a href="#测试用例" class="header-anchor">#</a> 测试用例</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> WordsCollection <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../index'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'iterator pattern'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'iterator concrete creator'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

		<span class="token keyword">const</span> collection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WordsCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		collection<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'First'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		collection<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'Second'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		collection<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'Third'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">const</span> iterator <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">getIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			str <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">const</span> reverseIterator <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">getReverseIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>reverseIterator<span class="token punctuation">.</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			str <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>reverseIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">expect</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'First Second Third Third Second First '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/design-pattern/behavioral/command.html" class="prev">
        命令模式
      </a></span> <span class="next"><a href="/design-pattern/behavioral/mediator.html">
        中介者模式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/design-pattern/assets/js/app.c5837f5d.js" defer></script><script src="/design-pattern/assets/js/2.87c55b2d.js" defer></script><script src="/design-pattern/assets/js/10.09fcd684.js" defer></script>
  </body>
</html>
