<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组合模式 | 印客学院</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/design-pattern/img/logo.png">
    <meta name="description" content="设计模式深入浅出">
    <meta name="keywords" content="设计模式深入浅出">
    
    <link rel="preload" href="/design-pattern/assets/css/0.styles.ed4adf79.css" as="style"><link rel="preload" href="/design-pattern/assets/js/app.f3f46401.js" as="script"><link rel="preload" href="/design-pattern/assets/js/2.e7f0e45b.js" as="script"><link rel="preload" href="/design-pattern/assets/js/23.dba9c6fa.js" as="script"><link rel="prefetch" href="/design-pattern/assets/js/10.a57f37ed.js"><link rel="prefetch" href="/design-pattern/assets/js/11.2ed34f4e.js"><link rel="prefetch" href="/design-pattern/assets/js/12.3bb8f01f.js"><link rel="prefetch" href="/design-pattern/assets/js/13.05bae820.js"><link rel="prefetch" href="/design-pattern/assets/js/14.14bd8d9c.js"><link rel="prefetch" href="/design-pattern/assets/js/15.b7b0c8fe.js"><link rel="prefetch" href="/design-pattern/assets/js/16.fbb35ffb.js"><link rel="prefetch" href="/design-pattern/assets/js/17.7a9d2e5b.js"><link rel="prefetch" href="/design-pattern/assets/js/18.95c626aa.js"><link rel="prefetch" href="/design-pattern/assets/js/19.85e9c94d.js"><link rel="prefetch" href="/design-pattern/assets/js/20.2a4da362.js"><link rel="prefetch" href="/design-pattern/assets/js/21.30566765.js"><link rel="prefetch" href="/design-pattern/assets/js/22.28375943.js"><link rel="prefetch" href="/design-pattern/assets/js/24.3de55ed3.js"><link rel="prefetch" href="/design-pattern/assets/js/25.fce6c3c0.js"><link rel="prefetch" href="/design-pattern/assets/js/26.78a83bc1.js"><link rel="prefetch" href="/design-pattern/assets/js/27.01def571.js"><link rel="prefetch" href="/design-pattern/assets/js/28.4246843a.js"><link rel="prefetch" href="/design-pattern/assets/js/29.256c7b86.js"><link rel="prefetch" href="/design-pattern/assets/js/3.1d1255e9.js"><link rel="prefetch" href="/design-pattern/assets/js/30.6ae63bd3.js"><link rel="prefetch" href="/design-pattern/assets/js/31.aa731dc0.js"><link rel="prefetch" href="/design-pattern/assets/js/32.ae53e7c5.js"><link rel="prefetch" href="/design-pattern/assets/js/4.7f118de9.js"><link rel="prefetch" href="/design-pattern/assets/js/5.68e28a7d.js"><link rel="prefetch" href="/design-pattern/assets/js/6.f66407ce.js"><link rel="prefetch" href="/design-pattern/assets/js/7.fc36c5ff.js"><link rel="prefetch" href="/design-pattern/assets/js/8.15e9e01e.js"><link rel="prefetch" href="/design-pattern/assets/js/9.c6d1e41c.js">
    <link rel="stylesheet" href="/design-pattern/assets/css/0.styles.ed4adf79.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/design-pattern/" class="home-link router-link-active"><img src="/design-pattern/img/logo.png" alt="印客学院" class="logo"> <span class="site-name can-hide">印客学院</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/design-pattern/index.html" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><span class="title">设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="设计模式" class="mobile-dropdown-title"><span class="title">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-pattern/creational/index.html" class="nav-link">
  创建者模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/structural/index.html" class="nav-link">
  结构型模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/behavioral/index.html" class="nav-link">
  行为模式
</a></li></ul></div></div> <a href="https://github.com/encode-studio-fe/design-pattern" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/design-pattern/index.html" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><span class="title">设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="设计模式" class="mobile-dropdown-title"><span class="title">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-pattern/creational/index.html" class="nav-link">
  创建者模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/structural/index.html" class="nav-link">
  结构型模式
</a></li><li class="dropdown-item"><!----> <a href="/design-pattern/behavioral/index.html" class="nav-link">
  行为模式
</a></li></ul></div></div> <a href="https://github.com/encode-studio-fe/design-pattern" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern/creational" class="sidebar-heading clickable"><span>创建者模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern/structural" class="sidebar-heading clickable router-link-active open"><span>结构型模式</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/design-pattern/structural/adapter.html" class="sidebar-link">适配器模式</a></li><li><a href="/design-pattern/structural/bridge.html" class="sidebar-link">桥接模式</a></li><li><a href="/design-pattern/structural/composite.html" aria-current="page" class="active sidebar-link">组合模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design-pattern/structural/composite.html#结构" class="sidebar-link">结构</a></li><li class="sidebar-sub-header"><a href="/design-pattern/structural/composite.html#适用场景" class="sidebar-link">适用场景</a></li><li class="sidebar-sub-header"><a href="/design-pattern/structural/composite.html#优缺点" class="sidebar-link">优缺点</a></li><li class="sidebar-sub-header"><a href="/design-pattern/structural/composite.html#与其他模式的关系" class="sidebar-link">与其他模式的关系</a></li><li class="sidebar-sub-header"><a href="/design-pattern/structural/composite.html#代码实现" class="sidebar-link">代码实现</a></li><li class="sidebar-sub-header"><a href="/design-pattern/structural/composite.html#测试用例" class="sidebar-link">测试用例</a></li></ul></li><li><a href="/design-pattern/structural/decorator.html" class="sidebar-link">装饰模式</a></li><li><a href="/design-pattern/structural/facade.html" class="sidebar-link">外观模式</a></li><li><a href="/design-pattern/structural/flyweight.html" class="sidebar-link">享元模式</a></li><li><a href="/design-pattern/structural/proxy.html" class="sidebar-link">代理模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern/behavioral" class="sidebar-heading clickable"><span>行为模式</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组合模式"><a href="#组合模式" class="header-anchor">#</a> 组合模式</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>组合模式</strong>是一种结构型设计模式， 你可以使用它将对象组合成树状结构， 并且能像使用独立对象一样使用它们。</p></div> <h2 id="结构"><a href="#结构" class="header-anchor">#</a> 结构</h2> <p><img src="data:image/png;base64,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" alt="composite_structure"></p> <ol><li>组件 （<code>Component</code>） 接口描述了树中简单项目和复杂项目所共有的操作。</li> <li>叶节点 （<code>Leaf</code>） 是树的基本结构， 它不包含子项目。</li> <li>容器 （<code>Container</code>）——又名 “组合 （Composite）”——是包含叶节点或其他容器等子项目的单位。 容器不知道其子项目所属的具体类， 它只通过通用的组件接口与其子项目交互。容器接收到请求后会将工作分配给自己的子项目， 处理中间结果， 然后将最终结果返回给客户端。</li> <li>客户端 （<code>Client</code>） 通过组件接口与所有项目交互。 因此， 客户端能以相同方式与树状结构中的简单或复杂项目交互。</li></ol> <h2 id="适用场景"><a href="#适用场景" class="header-anchor">#</a> 适用场景</h2> <ol><li><p>如果你需要实现树状对象结构， 可以使用组合模式。</p> <ol><li>组合模式为你提供了两种共享公共接口的基本元素类型： 简单叶节点和复杂容器。 容器中可以包含叶节点和其他容器。 这使得你可以构建树状嵌套递归对象结构。</li></ol></li> <li><p>如果你希望客户端代码以相同方式处理简单和复杂元素， 可以使用该模式。</p> <ol><li>组合模式中定义的所有元素共用同一个接口。 在这一接口的帮助下， 客户端不必在意其所使用的对象的具体类。</li></ol></li></ol> <h2 id="优缺点"><a href="#优缺点" class="header-anchor">#</a> 优缺点</h2> <h3 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h3> <ol><li>你可以利用多态和递归机制更方便地使用复杂树结构。</li> <li>开闭原则。 无需更改现有代码， 你就可以在应用中添加新元素， 使其成为对象树的一部分。</li></ol> <h3 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h3> <ol><li>对于功能差异较大的类， 提供公共接口或许会有困难。 在特定情况下， 你需要过度一般化组件接口， 使其变得令人难以理解。</li></ol> <h2 id="与其他模式的关系"><a href="#与其他模式的关系" class="header-anchor">#</a> 与其他模式的关系</h2> <ol><li>桥接模式、 状态模式和策略模式 （在某种程度上包括适配器模式） 模式的接口非常相似。 实际上， 它们都基于组合模式——即将工作委派给其他对象， 不过也各自解决了不同的问题。 模式并不只是以特定方式组织代码的配方， 你还可以使用它们来和其他开发者讨论模式所解决的问题。</li> <li>你可以在创建复杂组合树时使用生成器模式， 因为这可使其构造步骤以递归的方式运行。</li> <li>责任链模式通常和组合模式结合使用。 在这种情况下， 叶组件接收到请求后， 可以将请求沿包含全体父组件的链一直传递至对象树的底部。</li> <li>你可以使用迭代器模式来遍历组合树。</li> <li>你可以使用访问者模式对整个组合树执行操作。</li> <li>你可以使用享元模式实现组合树的共享叶节点以节省内存。</li> <li>组合和装饰模式的结构图很相似， 因为两者都依赖递归组合来组织无限数量的对象。</li> <li>装饰类似于组合， 但其只有一个子组件。 此外还有一个明显不同： 装饰为被封装对象添加了额外的职责， 组合仅对其子节点的结果进行了 “求和”。</li></ol> <h2 id="代码实现"><a href="#代码实现" class="header-anchor">#</a> 代码实现</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CompositeComponent</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> parent<span class="token operator">!</span><span class="token operator">:</span> CompositeComponent <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token function">setParent</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> CompositeComponent <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> CompositeComponent <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">add</span><span class="token punctuation">(</span>component<span class="token operator">:</span> CompositeComponent<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">remove</span><span class="token punctuation">(</span>component<span class="token operator">:</span> CompositeComponent<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">isComposite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Leaf</span> <span class="token keyword">extends</span> <span class="token class-name">CompositeComponent</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'Leaf'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Composite</span> <span class="token keyword">extends</span> <span class="token class-name">CompositeComponent</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> children<span class="token operator">:</span> CompositeComponent<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token function">add</span><span class="token punctuation">(</span>component<span class="token operator">:</span> CompositeComponent<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
		component<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">remove</span><span class="token punctuation">(</span>component<span class="token operator">:</span> CompositeComponent<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> componentIndex <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>componentIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		component<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">isComposite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> results<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> child <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Branch(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>results<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> CompositeComponent<span class="token punctuation">,</span> Leaf<span class="token punctuation">,</span> Composite <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="测试用例"><a href="#测试用例" class="header-anchor">#</a> 测试用例</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Leaf<span class="token punctuation">,</span> Composite <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../index'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'composite pattern'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'composite concrete 1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> simple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token function">expect</span><span class="token punctuation">(</span>simple<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Leaf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'composite concrete 2'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> branch1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		branch1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		branch1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">const</span> branch2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		branch2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		tree<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>branch1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		tree<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>branch2<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token function">expect</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Branch(Branch(Leaf+Leaf)+Branch(Leaf))'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/design-pattern/structural/bridge.html" class="prev">
        桥接模式
      </a></span> <span class="next"><a href="/design-pattern/structural/decorator.html">
        装饰模式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/design-pattern/assets/js/app.f3f46401.js" defer></script><script src="/design-pattern/assets/js/2.e7f0e45b.js" defer></script><script src="/design-pattern/assets/js/23.dba9c6fa.js" defer></script>
  </body>
</html>
